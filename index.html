<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>è§’è‰²ç‰¹è³ªæ¸¬é©—ï½œå¤§èˆªæµ·äº”è§’è‰²é›·é”åœ–</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
   body {
  font-family: "Noto Sans TC", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  margin: 0;
  padding: 0;
  background:
    linear-gradient(rgba(5, 10, 25, 0.7), rgba(5, 10, 25, 0.7)),
    url("https://upload.wikimedia.org/wikipedia/commons/5/5c/John_C._Munro_off_Hong_Kong.jpg")
    no-repeat center center fixed;
  background-size: cover;
  color: #f5f5f5;
}

header {
  padding: 22px 28px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  border-bottom: 1px solid rgba(255,255,255,0.12);
  background: radial-gradient(circle at top left, rgba(0,0,0,0.7), rgba(0,0,0,0.3));
  backdrop-filter: blur(6px);
}

header h1 {
  margin: 0;
  font-size: 32px;
  color: #ffdd66;
}

header p {
  margin: 0;
  font-size: 18px;
  color: #ffdd66;
}

.container {
  max-width: 1080px;
  margin: 28px auto 60px;
  padding: 0 24px 36px;
}

.card {
  background: radial-gradient(circle at top left, rgba(255,255,255,0.05), rgba(2,8,22,0.95));
  border-radius: 20px;
  padding: 28px 24px 30px;
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 12px 30px rgba(0,0,0,0.6);
}

.card h2 {
  font-size: 24px;
  color: #ffdd88;
  margin-bottom: 16px;
}

.subtitle {
  font-size: 20px;
  margin-bottom: 20px;
  color: #ffdd66;
  line-height: 1.6;
}

.question-block {
  margin-bottom: 22px;
  padding-bottom: 10px;
  border-bottom: 1px dashed rgba(255,255,255,0.08);
}

.question-text {
  font-size: 20px;
  line-height: 1.8;
  margin-bottom: 8px;
}

.scale {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
  font-size: 16px;
}

.scale label {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 10px;
  background: rgba(255,255,255,0.04);
  cursor: pointer;
  border: 1px solid transparent;
  transition: all 0.2s ease;
}

.scale input[type="radio"] {
  accent-color: #ffcc66;
  width: 18px;
  height: 18px;
  cursor: pointer;
}

.scale label:hover {
  background: rgba(255,204,102,0.15);
  border-color: rgba(255,204,102,0.35);
}

.btn-area {
  margin-top: 22px;
  display: flex;
  flex-wrap: wrap;
  gap: 14px;
}

button {
  border: none;
  border-radius: 999px;
  padding: 12px 24px;
  font-size: 18px;
  cursor: pointer;
  background: linear-gradient(to right, #ffcc66, #ff9966);
  color: #1a1a1a;
  font-weight: 700;
  box-shadow: 0 6px 14px rgba(0,0,0,0.5);
  transition: all 0.2s ease;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 18px rgba(0,0,0,0.65);
}

button.secondary {
  background: transparent;
  color: #ffddaa;
  border: 2px solid rgba(255,221,170,0.4);
}

button.secondary:hover {
  background: rgba(255,221,170,0.1);
}

.note {
  font-size: 16px;
  opacity: 0.85;
  margin-top: 18px;
  color: #ffddaa;
  line-height: 1.6;
}

#resultInner {
  padding: 24px 20px 26px;
}

#radarChart {
  max-height: 420px;
}

.scores {
  margin-top: 16px;
  font-size: 18px;
  line-height: 2;
}

.result-hint {
  font-size: 16px;
  margin-top: 14px;
  line-height: 1.9;
  color: #ffddaa;
}

.close-btn {
  font-size: 16px;
  padding: 6px 14px;
  border: 1.5px solid rgba(255,221,170,0.6);
}

  </style>
</head>
<body>
<header>
  <h1>è§’è‰²ç‰¹è³ªæ¸¬é©—</h1>
  <p>è«‹ä¾ç…§å‰›å‰›å°çµ„å ±å‘Šä»»å‹™ä¸­çš„å¯¦éš›è¡¨ç¾ä½œç­”ï¼Œå°‹æ‰¾é©åˆè‡ªå·±çš„è§’è‰²ã€‚</p>
</header>

<div class="container">
  <div class="card">
    <h2>ğŸ“ å•å·ä½œç­”å€</h2>
    <div class="subtitle">
      è«‹ä»¥çœŸå¯¦æ„Ÿå—ä½œç­”ï¼Œè¦ºå¯Ÿè‡ªå·±çš„ç‰¹è³ªï¼Œæ¯é¡Œè«‹å‹¾é¸ä¸€å€‹æ•¸å­—ï¼ˆ1ï¼éå¸¸ä¸åŒæ„ï¼Œ5ï¼éå¸¸åŒæ„ï¼‰ã€‚
      å®Œæˆå¾ŒæŒ‰ä¸‹ã€Œç”Ÿæˆé›·é”åœ–ã€æŸ¥çœ‹çµæœã€‚
    </div>

    <div id="questionsContainer"></div>

    <div class="btn-area">
      <button id="generateBtn">âš“ ç”Ÿæˆæˆ‘çš„èˆªæµ·é›·é”åœ–</button>
      <button type="button" class="secondary" id="resetBtn">é‡å¡«å•å·</button>
    </div>

    
  </div>
</div>

<div id="resultPageOverlay">
  <div id="resultInner">
    <h2>
      ğŸ§­ èˆªæµ·é›·é”åœ–èˆ‡åˆ†æ
      <button class="close-btn" id="backBtn">è¿”å›å•å·</button>
    </h2>
        <canvas id="radarChart"></canvas>
    <div class="scores" id="scoreText"></div>
    <div class="result-hint">
      âœ¦ æ¯ä¸€ç¨®è§’è‰²ç‰¹è³ªï¼Œéƒ½æ˜¯è®“èˆ¹éšŠçœŸæ­£èƒ½å•Ÿèˆªã€ç©¿è¶Šé¢¨æµªã€åˆ°é”ç›®çš„åœ°çš„é‡è¦æ‹¼åœ–ã€‚<br>
      âœ¦ æŠŠä½ çš„çµæœè¦–ç‚ºã€Œé€™æ¬¡ä»»å‹™ä¸­ï¼Œä½ æœ€æ“…é•·å¸¶ä¾†çš„åŠ›é‡ã€ï¼Œè€Œä¸æ˜¯åˆ†æ•¸é«˜ä½çš„æ¯”è¼ƒã€‚
    </div>
    <div class="role-notes">
      <span>èˆ¹é•· Captainï¼š</span>é ˜å°ã€åˆ†å·¥ã€æ±ºç­–ã€å‡èš<br>
      <span>èˆªæµ·å£« Navigatorï¼š</span>åˆ†æã€æ–¹æ³•ã€å…§æ–‚ã€å»ºè­°<br>
      <span>èˆ¹é†« Medicï¼š</span>é—œæ‡·ã€å”åŠ©ã€æ‡‰è®Šã€æ•‘æ´<br>
      <span>å‚³æ•™å£« Missionaryï¼š</span>ä¿¡å¿ƒã€å …å®šã€åŒ…å®¹ã€åŒç†ã€èªªæœ<br>
      <span>æ°´æ‰‹ Sailorï¼š</span>å …å®šã€æ¯…åŠ›ã€ç†Ÿç·´ã€åŸ·è¡Œ
    </div>

  </div>
</div>

<script>
  const ROLE_CONFIG = {
    captain:   { label: "èˆ¹é•·" },
    navigator: { label: "èˆªæµ·å£«" },
    medic:     { label: "èˆ¹é†«" },
    missionary:{ label: "å‚³æ•™å£«" },
    sailor:    { label: "æ°´æ‰‹" }
  };

  const QUESTIONS = [
    { id: "q1",  text: "åœ¨æº–å‚™å ±å‘Šæ™‚ï¼Œæˆ‘èƒ½å”åŠ©åˆ†é…å·¥ä½œï¼Œè®“æ¯å€‹äººéƒ½æ¸…æ¥šè‡ªå·±çš„ä»»å‹™ã€‚", role: "captain" },
    { id: "q2",  text: "è¨è«–ä¸­å‡ºç¾ä¸åŒæ„è¦‹æ™‚ï¼Œæˆ‘æœƒå¹«å¤§å®¶æ•´ç†æƒ³æ³•ï¼Œå¸¶å‘å…±è­˜ã€‚", role: "captain" },
    { id: "q3",  text: "ç•¶çµ„å“¡æ„è¦‹è¡çªæ™‚ï¼Œæˆ‘æœƒè©¦è‘—å®‰æ’«ã€å”èª¿ï¼Œè®“æ°£æ°›ç©©å®šä¸‹ä¾†ã€‚", role: "captain" },
    { id: "q4",  text: "æˆ‘ä¸å–„æ–¼ä¸»å‹•è¨è«–ï¼Œå®¹æ˜“ç­‰å¾…åˆ¥äººçš„æ±ºå®šå¾Œå†è¡Œå‹•ã€‚", role: "captain" },

    { id: "q5",  text: "ç•¶å ±å‘Šå…§å®¹é‚„ä¸æ¸…æ¥šæ™‚ï¼Œæˆ‘æœƒå…ˆæ•´ç†è³‡æ–™ï¼Œé‡æ¸…é‡é»èˆ‡æ–¹å‘ã€‚", role: "navigator" },
    { id: "q6",  text: "æˆ‘æœƒåœ¨å¿ƒä¸­å…ˆæƒ³å¥½æ•´é«”æ¶æ§‹ï¼Œå†å‹•ç­†æˆ–ç™¼è¡¨æ„è¦‹ã€‚", role: "navigator" },
    { id: "q7",  text: "æˆ‘å¸¸æå‡ºå…·é«”åšæ³•æˆ–å»ºè­°ï¼Œå¹«åŠ©å°çµ„æ‰¾åˆ°æ›´å¥½çš„æ–¹æ³•ã€‚", role: "navigator" },
    { id: "q8",  text: "æˆ‘æ¯”è¼ƒå°‘ä¸»å‹•æå‡ºåˆ†æï¼Œé€šå¸¸åœ¨åˆ¥äººåˆ†äº«å¾Œæ‰æ•´ç†è‡ªå·±çš„æƒ³æ³•ã€‚", role: "navigator" },

    { id: "q9",  text: "æˆ‘æœƒç•™æ„å“ªäº›çµ„å“¡é‡åˆ°å›°é›£ï¼Œä¸»å‹•å”åŠ©ä»–å€‘å®Œæˆä»»å‹™ã€‚", role: "medic" },
    { id: "q10", text: "è‹¥æœ‰äººè‡¨æ™‚ç‹€æ³ï¼ˆå¦‚è³‡æ–™å‡ºéŒ¯æˆ–éºæ¼ï¼‰ï¼Œæˆ‘æœƒä¸»å‹•å¹«å¿™è£œæ•‘ã€‚", role: "medic" },
    { id: "q11", text: "æˆ‘èƒ½å¯Ÿè¦ºçµ„å“¡çš„å£“åŠ›æˆ–æƒ…ç·’è®ŠåŒ–ï¼Œä¸¦è©¦è‘—è®“ä»–å€‘æ”¾é¬†ã€‚", role: "medic" },
    { id: "q12", text: "æˆ‘é€šå¸¸æœƒå…ˆé¡§å¥½è‡ªå·±çš„å·¥ä½œï¼Œè¼ƒå°‘æ³¨æ„åˆ°ä»–äººçš„ç‹€æ³ã€‚", role: "medic" },

    { id: "q13", text: "ç•¶å¤§å®¶é–‹å§‹æ‡·ç–‘èƒ½å¦å®Œæˆæ™‚ï¼Œæˆ‘æœƒé¼“å‹µå¤§å®¶ã€Œæˆ‘å€‘å¯ä»¥åšåˆ°ï¼ã€", role: "missionary" },
    { id: "q14", text: "é¢å°ä¸åŒæƒ³æ³•æ™‚ï¼Œæˆ‘æœƒå…ˆç†è§£å°æ–¹çš„ç†ç”±ï¼Œå†è¡¨é”è‡ªå·±çš„è§€é»ã€‚", role: "missionary" },
    { id: "q15", text: "æˆ‘èƒ½ä»¥èªªæœæˆ–é¼“èˆçš„æ–¹å¼ï¼Œå¹«åŠ©åœ˜éšŠæ¥å—æ›´åˆé©çš„æ–¹å‘ã€‚", role: "missionary" },
    { id: "q16", text: "é¢å°å›°é›£æ™‚ï¼Œæˆ‘æœ‰æ™‚æœƒæ‡·ç–‘åœ˜éšŠæ˜¯å¦çœŸçš„èƒ½é †åˆ©å®Œæˆã€‚", role: "missionary" },

    { id: "q17", text: "è¢«åˆ†é…ä»»å‹™å¾Œï¼Œæˆ‘æœƒç…§è¨ˆç•«ä¸€æ­¥æ­¥å®Œæˆï¼Œä¸è®“åœ˜éšŠæ“”å¿ƒé€²åº¦ã€‚", role: "sailor" },
    { id: "q18", text: "ç•¶ä»»å‹™è®Šå¾—å›°é›£æˆ–æ™‚é–“ç·Šè¿«æ™‚ï¼Œæˆ‘æœƒæ’ä¸‹å»ï¼Œç¢ºä¿æˆæœã€‚", role: "sailor" },
    { id: "q19", text: "å³ä½¿ä»»å‹™å…§å®¹ä¸æ˜¯æˆ‘ç‰¹åˆ¥èªåŒæˆ–æ„Ÿèˆˆè¶£çš„ï¼Œæˆ‘ä¹Ÿæœƒç›¡åŠ›å®Œæˆã€‚", role: "sailor" },
    { id: "q20", text: "ç•¶åˆ¥äººé–‹å§‹è¡Œå‹•æ™‚ï¼Œæˆ‘æœƒå‚¾å‘å…ˆè§€æœ›å†æ±ºå®šè¦ä¸è¦å¹«å¿™ã€‚", role: "sailor" }
  ];

  function shuffle(array) {
    const arr = array.slice();
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function renderQuestions() {
    const container = document.getElementById("questionsContainer");
    container.innerHTML = "";
    const shuffled = shuffle(QUESTIONS);

    shuffled.forEach((q, index) => {
      const block = document.createElement("div");
      block.className = "question-block";

      const num = index + 1;
      const qText = document.createElement("div");
      qText.className = "question-text";
      qText.textContent = `${num}. ${q.text}`;
      block.appendChild(qText);

      const scale = document.createElement("div");
      scale.className = "scale";
      scale.setAttribute("data-qid", q.id);

      for (let v = 1; v <= 5; v++) {
        const label = document.createElement("label");
        const input = document.createElement("input");
        input.type = "radio";
        input.name = q.id;
        input.value = v;
        const span = document.createElement("span");
        span.textContent = v;
        label.appendChild(input);
        label.appendChild(span);
        scale.appendChild(label);
      }

      block.appendChild(scale);
      container.appendChild(block);
    });
  }

  renderQuestions();

  function calculateScores() {
    const roleScores = {
      captain: [],
      navigator: [],
      medic: [],
      missionary: [],
      sailor: []
    };

    for (const q of QUESTIONS) {
      const selected = document.querySelector(`input[name="${q.id}"]:checked`);
      if (!selected) {
        alert("é‚„æœ‰é¡Œç›®æœªä½œç­”ï¼Œè«‹ç¢ºèªæ¯é¡Œéƒ½å·²é¸æ“‡ 1ï½5 åˆ†ã€‚");
        return null;
      }
      const score = Number(selected.value);
      roleScores[q.role].push(score);
    }

    const avg = {};
    for (const role in roleScores) {
      const arr = roleScores[role];
      const total = arr.reduce((a, b) => a + b, 0);
      avg[role] = total / arr.length;
    }
    return avg;
  }

  let radarChart = null;

  function showResultPage(avg) {
    const overlay = document.getElementById("resultPageOverlay");
    const ctx = document.getElementById("radarChart").getContext("2d");

    const labels = Object.keys(ROLE_CONFIG).map(k => ROLE_CONFIG[k].label);
    const data = Object.keys(ROLE_CONFIG).map(k => Number(avg[k].toFixed(2)));

    if (radarChart) {
      radarChart.destroy();
      radarChart = null;
    }

    radarChart = new Chart(ctx, {
      type: "radar",
      data: {
        labels: labels,
        datasets: [{
          label: "æˆ‘çš„èˆªæµ·ç‰¹è³ªå¼·åº¦ï¼ˆ1ï½5åˆ†ï¼‰",
          data: data,
          fill: true,
          backgroundColor: "rgba(255, 204, 102, 0.20)",
          borderColor: "rgba(255, 204, 102, 1)",
          pointBackgroundColor: "#ffcc66",
          pointRadius: 3,
          pointHoverRadius: 4,
          borderWidth: 2
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          r: {
            suggestedMin: 1,
            suggestedMax: 5,
            ticks: {
              stepSize: 1,
              backdropColor: "transparent",
              color: "rgba(245,245,245,0.9)",
              font: { size: 10 }
            },
            grid: { color: "rgba(255,255,255,0.14)" },
            angleLines: { color: "rgba(255,255,255,0.18)" },
            pointLabels: {
              color: "#ffdd99",
              font: { size: 12 }
            }
          }
        },
        plugins: { legend: { display: false } }
      }
    });

    const scoreBox = document.getElementById("scoreText");
    const entries = Object.entries(avg).sort((a, b) => b[1] - a[1]);

    let html = "<div><strong>å„è§’è‰²å¹³å‡åˆ†æ•¸ï¼š</strong></div>";
    for (const [role, value] of entries) {
      html += `<div><span class="role-label">${ROLE_CONFIG[role].label}</span>ï¼š${value.toFixed(2)} åˆ†</div>`;
    }

    const top3 = entries.slice(0, 3).map(([role]) => role);

    const emoText = {
      captain:   "ä½ æ“…é•·çœ‹åˆ°å…¨å±€ä¸¦å¸¶å‹•å¤§å®¶ï¼Œæ˜¯åœ˜éšŠåœ¨è¿·èˆªæ™‚çš„èˆµæ‰‹èˆ‡ç©©å®šæ ¸å¿ƒã€‚",
      navigator: "ä½ ç”¨æ€è€ƒå’Œè§€å¯Ÿå¹«å¤§å®¶æ‰¾åˆ°è·¯ï¼Œæ˜¯åœ˜éšŠå®‰ç©©å‰é€²çš„åœ°åœ–èˆ‡æ˜Ÿå…‰ã€‚",
      medic:     "ä½ æœƒæ³¨æ„åˆ°èª°éœ€è¦å¹«åŠ©ï¼ŒåŠæ™‚è£œä½ï¼Œæ˜¯è®“ä»»å‹™ä¸æ–·ç·šçš„é—œéµå¾Œç›¾ã€‚",
      missionary:"ä½ åœ¨ä¹æ„ç¾©èˆ‡åƒ¹å€¼ï¼Œèƒ½æé†’å¤§å®¶ã€Œç‚ºä»€éº¼å‡ºç™¼ã€ï¼Œæ›¿åœ˜éšŠé»äº®æ–¹å‘ã€‚",
      sailor:    "ä½ è‚¯åšã€åšå¾—ç©©ï¼Œå¾ˆå¤šæˆæœå…¶å¯¦é ä½ æ’èµ·ï¼Œæ˜¯æœ€è®“äººæ”¾å¿ƒçš„è¡Œå‹•æ´¾ã€‚"
    };

    html += `<div style="margin-top:10px;"><strong>ä½ çš„å‰ä¸‰åè§’è‰²åŠ›é‡æ˜¯ï¼š</strong></div>`;
    top3.forEach((role, idx) => {
      const rank = idx + 1;
      html += `<div>ç¬¬${rank}åï¼š<span class="role-label">${ROLE_CONFIG[role].label}</span>ï¼${emoText[role]}</div>`;
    });

    html += `<div class="result-hint">
      âœ¦ è¨˜ä½ï¼šåœ˜éšŠéœ€è¦çš„æ˜¯ä¸åŒç‰¹è³ªçš„å¤¥ä¼´ä¸€èµ·å®Œæˆèˆªç¨‹ï¼Œè€Œä¸æ˜¯æ¯å€‹äººéƒ½æˆç‚ºåŒä¸€ç¨®è§’è‰²ã€‚<br>
      âœ¦ ä½ ç¾åœ¨çœ‹åˆ°çš„æ›²ç·šï¼Œå°±æ˜¯ä½ åœ¨é€™æ¬¡å¤§èˆªæµ·ä»»å‹™ä¸­ï¼Œæœ€ç¨ç‰¹ã€æœ€é‡è¦çš„è²¢ç»ã€‚
    </div>`;

    scoreBox.innerHTML = html;
    overlay.style.display = "block";
    window.scrollTo({ top: 0, behavior: "smooth" });
  }

  document.getElementById("generateBtn").addEventListener("click", () => {
    const avg = calculateScores();
    if (!avg) return;
    showResultPage(avg);
  });

  document.getElementById("resetBtn").addEventListener("click", () => {
    renderQuestions();
    if (radarChart) {
      radarChart.destroy();
      radarChart = null;
    }
    document.getElementById("resultPageOverlay").style.display = "none";
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  document.getElementById("backBtn").addEventListener("click", () => {
    document.getElementById("resultPageOverlay").style.display = "none";
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>

</body>
</html>


