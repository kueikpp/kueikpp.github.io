<!DOCTYPE html>
<html lang="zh-Hant">
<head>
Â  <meta charset="UTF-8" />
Â  <title>è§’è‰²ç‰¹è³ªæ¸¬é©—ï½œå¤§èˆªæµ·äº”è§’è‰²é›·é”åœ–</title>
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
Â  <style>
Â  Â  body {
Â  Â  Â  font-family: "Noto Sans TC", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 0;
Â  Â  Â  background:
Â  Â  Â  Â  linear-gradient(rgba(5, 10, 25, 0.7), rgba(5, 10, 25, 0.7)),
Â  Â  Â  Â  url("https://upload.wikimedia.org/wikipedia/commons/5/5c/John_C._Munro_off_Hong_Kong.jpg")
Â  Â  Â  Â  no-repeat center center fixed;
Â  Â  Â  background-size: cover;
Â  Â  Â  color: #f5f5f5;
Â  Â  }

Â  Â  header {
Â  Â  Â  padding: 16px 24px;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  gap: 6px;
Â  Â  Â  border-bottom: 1px solid rgba(255,255,255,0.12);
Â  Â  Â  background: radial-gradient(circle at top left, rgba(0,0,0,0.7), rgba(0,0,0,0.3));
Â  Â  Â  backdrop-filter: blur(6px);
Â  Â  Â  position: sticky;
Â  Â  Â  top: 0;
Â  Â  Â  z-index: 10;
Â  Â  }

Â  Â  header h1 {
Â  Â  Â  margin: 0;
Â  Â  Â  font-size: 24px;
Â  Â  Â  letter-spacing: 1px;
Â  Â  Â  color: #ffdd66;
Â  Â  }

Â  Â  header p {
Â  Â  Â  margin: 0;
Â  Â  Â  font-size: 13px;
Â  Â  Â  color: #ffdd66;
Â  Â  }

Â  Â  .container {
Â  Â  Â  max-width: 1080px;
Â  Â  Â  margin: 18px auto 40px;
Â  Â  Â  padding: 0 16px 24px;
Â  Â  Â  display: grid;
Â  Â  Â  grid-template-columns: minmax(0, 1.7fr);
Â  Â  Â  gap: 18px;
Â  Â  Â  align-items: flex-start;
Â  Â  }

Â  Â  .card {
Â  Â  Â  background: radial-gradient(circle at top left, rgba(255,255,255,0.04), rgba(2,8,22,0.98));
Â  Â  Â  border-radius: 18px;
Â  Â  Â  padding: 16px 16px 18px;
Â  Â  Â  border: 1px solid rgba(255,255,255,0.08);
Â  Â  Â  box-shadow: 0 10px 26px rgba(0,0,0,0.7);
Â  Â  }

Â  Â  .card h2 {
Â  Â  Â  margin: 0 0 10px;
Â  Â  Â  font-size: 18px;
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  gap: 6px;
Â  Â  Â  color: #ffdd88;
Â  Â  }

Â  Â  .subtitle {
Â  Â  Â  font-size: 24px;
Â  Â  Â  margin-bottom: 8px;
Â  Â  Â  color: #ffdd66;
Â  Â  Â  line-height: 1.5;
Â  Â  }

Â  Â  .question-block {
Â  Â  Â  margin-bottom: 8px;
Â  Â  Â  padding-bottom: 4px;
Â  Â  Â  border-bottom: 1px dashed rgba(255,255,255,0.06);
Â  Â  }

Â  Â  .question-text {
Â  Â  Â  font-size: 12px;
Â  Â  Â  margin-bottom: 3px;
Â  Â  Â  line-height: 1.5;
Â  Â  }

Â  Â  .scale {
Â  Â  Â  display: flex;
Â  Â  Â  gap: 6px;
Â  Â  Â  align-items: center;
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  font-size: 10px;
Â  Â  }

Â  Â  .scale label {
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  gap: 2px;
Â  Â  Â  padding: 3px 5px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  background: rgba(255,255,255,0.02);
Â  Â  Â  cursor: pointer;
Â  Â  Â  transition: all 0.18s ease;
Â  Â  Â  border: 1px solid transparent;
Â  Â  }

Â  Â  .scale input[type="radio"] {
Â  Â  Â  accent-color: #ffcc66;
Â  Â  Â  cursor: pointer;
Â  Â  Â  width: 11px;
Â  Â  Â  height: 11px;
Â  Â  }

Â  Â  .scale label:hover {
Â  Â  Â  background: rgba(255, 204, 102, 0.12);
Â  Â  Â  border-color: rgba(255, 204, 102, 0.25);
Â  Â  }

Â  Â  .btn-area {
Â  Â  Â  margin-top: 10px;
Â  Â  Â  display: flex;
Â  Â  Â  gap: 8px;
Â  Â  Â  flex-wrap: wrap;
Â  Â  }

Â  Â  button {
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 999px;
Â  Â  Â  padding: 7px 14px;
Â  Â  Â  font-size: 12px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  background: linear-gradient(to right, #ffcc66, #ff9966);
Â  Â  Â  color: #1a1a1a;
Â  Â  Â  font-weight: 600;
Â  Â  Â  display: inline-flex;
Â  Â  Â  align-items: center;
Â  Â  Â  gap: 6px;
Â  Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.4);
Â  Â  Â  transition: all 0.18s ease;
Â  Â  }

Â  Â  button:hover {
Â  Â  Â  transform: translateY(-1px);
Â  Â  Â  box-shadow: 0 6px 14px rgba(0,0,0,0.55);
Â  Â  }

Â  Â  button.secondary {
Â  Â  Â  background: transparent;
Â  Â  Â  color: #ffddaa;
Â  Â  Â  border: 1px solid rgba(255,221,170,0.35);
Â  Â  Â  box-shadow: none;
Â  Â  }

Â  Â  button.secondary:hover {
Â  Â  Â  background: rgba(255,221,170,0.08);
Â  Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.4);
Â  Â  }

Â  Â  .note {
Â  Â  Â  font-size: 10px;
Â  Â  Â  opacity: 0.8;
Â  Â  Â  margin-top: 8px;
Â  Â  Â  color: #ffddaa;
Â  Â  }
Â  Â  /* æ–°è¦–çª—å°ˆç”¨æ¨£å¼ */
Â  Â  .role-label {
Â  Â  Â  font-weight: 700;
Â  Â  Â  color: #ffcc66;
Â  Â  }
Â  Â  .result-hint {
Â  Â  Â  font-size: 13px;
Â  Â  Â  margin-top: 10px;
Â  Â  Â  color: #ffddaa;
Â  Â  Â  line-height: 1.7;
Â  Â  }
Â  </style>
</head>
<body>
<header>
Â  <h1>è§’è‰²ç‰¹è³ªæ¸¬é©—</h1>
Â  <p>ä¾ç…§å‰›å‰›è‡ªå·±çš„è¡¨ç¾æˆ–å¹³æ™‚çš„ç¿’æ…£ä¾†ä½œç­”ï¼Œå°‹æ‰¾é©åˆè‡ªå·±çš„è§’è‰²å§ï¼</p>
</header>

<div class="container">
Â  <div class="card">
Â  Â  <h2>ğŸ“ å•å·ä½œç­”å€</h2>
Â  Â  <div class="subtitle">
Â  Â  Â  ï¼ˆ1ï¼éå¸¸ä¸åŒæ„ï¼Œ5ï¼éå¸¸åŒæ„ï¼‰ æ¯é¡Œè«‹å‹¾é¸ä¸€å€‹æ•¸å­—ã€‚å®Œæˆå¾ŒæŒ‰ä¸‹ã€Œç”Ÿæˆé›·é”åœ–ã€æŸ¥çœ‹çµæœã€‚
Â  Â  </div>

Â  Â  <div id="questionsContainer"></div>

Â  Â  <div class="btn-area">
Â  Â  Â  <button id="generateBtn">âš“ ç”Ÿæˆæˆ‘çš„èˆªæµ·é›·é”åœ–</button>
Â  Â  Â  <button type="button" class="secondary" id="resetBtn">é‡å¡«å•å·</button>
Â  Â  </div>

Â  Â  <div class="note">
Â  Â  Â  æœ¬æ¸¬é©—åƒ…ä½œç‚ºèª²ç¨‹åˆ†å·¥èˆ‡è‡ªæˆ‘äº†è§£åƒè€ƒï¼Œæ²’æœ‰æœ€å¥½æˆ–æœ€å·®çš„è§’è‰²ï¼Œè«‹ä»¥çœŸå¯¦æ„Ÿå—ä½œç­”ï¼Œä¹Ÿæ¬£è³å½¼æ­¤ä¸åŒçš„åŠ›é‡ã€‚
Â  Â  </div>
Â  </div>
</div>

<script>
Â  const ROLE_CONFIG = {
Â  Â  captain:Â  Â { label: "èˆ¹é•·" },
Â  Â  navigator: { label: "èˆªæµ·å£«" },
Â  Â  medic:Â  Â  Â { label: "èˆ¹é†«" },
Â  Â  missionary:{ label: "å‚³æ•™å£«" },
Â  Â  sailor:Â  Â  { label: "æ°´æ‰‹" }
Â  };

Â  // æ–°ç‰ˆ 20 é¡Œé¡Œç›®è¨­å®šï¼ˆæ¯è§’è‰² 3 æ­£å‘ + 1 åå‘ï¼‰
Â  const QUESTIONS = [
Â  Â  // èˆ¹é•·
Â  Â  { id: "q1",Â  text: "åœ¨å°çµ„è¨è«–æ™‚ï¼Œæˆ‘æœƒä¸»å‹•é–‹é ­æˆ–æ”¶æ–‚é‡é»ï¼Œå¹«å¤§å®¶èšç„¦åœ¨å…±åŒç›®æ¨™ä¸Šã€‚", role: "captain", reverse: false },
Â  Â  { id: "q2",Â  text: "åˆ†é…å·¥ä½œæ™‚ï¼Œæˆ‘æœƒå”èª¿èª°é©åˆåšä»€éº¼ï¼Œç›¡é‡è®“ä»»å‹™åˆ†é…æ¸…æ¥šåˆå…¬å¹³ã€‚", role: "captain", reverse: false },
Â  Â  { id: "q3",Â  text: "ç•¶çµ„å…§å‡ºç¾çŒ¶è±«æˆ–å¡ä½æ™‚ï¼Œæˆ‘é¡˜æ„åšå‡ºæ±ºå®šï¼Œå¸¶è‘—å¤§å®¶å¾€ä¸‹ä¸€æ­¥å‰é€²ã€‚", role: "captain", reverse: false },
Â  Â  { id: "q4r", text: "åœ¨å°çµ„ä»»å‹™ä¸­ï¼Œæˆ‘é€šå¸¸ä¸å¤ªç™¼è¡¨æ„è¦‹ï¼Œä¹Ÿä¸å¤ªåƒèˆ‡åˆ†å·¥æˆ–æ±ºç­–ï¼Œåªè·Ÿè‘—åšå°±å¥½ã€‚", role: "captain", reverse: true },

Â  Â  // èˆªæµ·å£«
Â  Â  { id: "q5",Â  text: "é–‹å§‹ä»»å‹™å‰ï¼Œæˆ‘æœƒå…ˆç¢ºèªç›®æ¨™ã€æµç¨‹èˆ‡æ™‚é–“å®‰æ’ï¼Œè®“å°çµ„æœ‰æ¸…æ¥šçš„æ–¹å‘ã€‚", role: "navigator", reverse: false },
Â  Â  { id: "q6",Â  text: "é¢å°è¤‡é›œä»»å‹™æ™‚ï¼Œæˆ‘èƒ½æŠŠæ­¥é©Ÿæ‹†è§£æˆå…·é«”åšæ³•ï¼Œæä¾›çµ¦å°çµ„åƒè€ƒã€‚", role: "navigator", reverse: false },
Â  Â  { id: "q7",Â  text: "ç•¶å¤§å®¶æ„è¦‹å¾ˆå¤šæ™‚ï¼Œæˆ‘èƒ½æ•´ç†æˆæœ‰æ¢ç†çš„æ¶æ§‹ï¼Œå¹«åŠ©æ±ºå®šæœ€åˆé©çš„æ–¹æ¡ˆã€‚", role: "navigator", reverse: false },
Â  Â  { id: "q8r", text: "åšå ±å‘Šæˆ–ä»»å‹™æ™‚ï¼Œæˆ‘å¤šåŠåªå®Œæˆè¢«äº¤ä»£çš„éƒ¨åˆ†ï¼Œå¾ˆå°‘å»æ€è€ƒæ•´é«”å®‰æ’æ˜¯å¦åˆç†ã€‚", role: "navigator", reverse: true },

Â  Â  // èˆ¹é†«
Â  Â  { id: "q9",Â  text: "åœ¨å°çµ„ä»»å‹™ä¸­ï¼Œæˆ‘æœƒæ³¨æ„å“ªäº›åŒå­¸æ¯”è¼ƒç·Šå¼µã€è½å¾Œæˆ–å¡é—œï¼Œä¸»å‹•é—œå¿ƒæˆ–å”åŠ©ã€‚", role: "medic", reverse: false },
Â  Â  { id: "q10", text: "ç•¶æœ‰äººå‡ºéŒ¯ã€æª”æ¡ˆéºå¤±æˆ–è‡¨æ™‚ç‹€æ³ç™¼ç”Ÿæ™‚ï¼Œæˆ‘æœƒé¡˜æ„å¹«å¿™è£œæ•‘ï¼Œè€Œä¸æ˜¯åªæ€ªå°æ–¹ã€‚", role: "medic", reverse: false },
Â  Â  { id: "q11", text: "å¦‚æœæˆ‘ç™¼ç¾æœ‰äººå£“åŠ›å¤ªå¤§æˆ–æƒ…ç·’ä½è½ï¼Œæˆ‘æœƒè©¦è‘—ç”¨è¡Œå‹•æˆ–è©±èªè®“ä»–æ¯”è¼ƒæ”¾é¬†ã€‚", role: "medic", reverse: false },
Â  Â  { id: "q12r",text: "å…¶ä»–çµ„å“¡çš„ç‹€æ³èˆ‡æƒ…ç·’ï¼Œæˆ‘é€šå¸¸ä¸å¤ªæƒ³ç†æœƒï¼Œè¦ºå¾—å„åšå„çš„å°±å¥½ã€‚", role: "medic", reverse: true },

Â  Â  // å‚³æ•™å£«
Â  Â  { id: "q13", text: "ç•¶å¤§å®¶æ‡·ç–‘èƒ½ä¸èƒ½å®Œæˆä»»å‹™æ™‚ï¼Œæˆ‘æœƒé¼“å‹µä»–å€‘ï¼Œç›¸ä¿¡å°çµ„æ˜¯åšå¾—åˆ°çš„ã€‚", role: "missionary", reverse: false },
Â  Â  { id: "q14", text: "é‡åˆ°ä¸åŒæ„è¦‹æ™‚ï¼Œæˆ‘æœƒå…ˆè©¦è‘—ç†è§£å°æ–¹çš„æƒ³æ³•ï¼Œå†è¡¨é”è‡ªå·±çš„ç«‹å ´ã€‚", role: "missionary", reverse: false },
Â  Â  { id: "q15", text: "ç•¶æˆ‘è¦ºå¾—æŸå€‹æ–¹å‘æ¯”è¼ƒå¥½æ™‚ï¼Œæˆ‘æœƒç”¨æœ‰ç¦®ã€å…·èªªæœåŠ›çš„æ–¹å¼ï¼Œå¼•å°å°çµ„æ¥å—é€™å€‹é¸æ“‡ã€‚", role: "missionary", reverse: false },
Â  Â  { id: "q16r",text: "ç•¶äº‹æƒ…è®Šå¾—éº»ç…©æˆ–é€²åº¦è½å¾Œæ™‚ï¼Œæˆ‘å¸¸æœƒæƒ³ã€Œå·®ä¸å¤šå°±å¥½ã€ï¼Œä¸å¤ªæƒ³å†å¤šåŠªåŠ›æˆ–å¤šèªªæœå¤§å®¶ã€‚", role: "missionary", reverse: true },

Â  Â  // æ°´æ‰‹
Â  Â  { id: "q17", text: "è¢«åˆ†é…åˆ°ä»»å‹™å¾Œï¼Œæˆ‘æœƒæŒ‰æ™‚å®Œæˆï¼Œä¸è®“çµ„å“¡æ“”å¿ƒæˆ–ä¸€å†æé†’ã€‚", role: "sailor", reverse: false },
Â  Â  { id: "q18", text: "å³ä½¿ä»»å‹™æ¯ç‡¥æˆ–æ™‚é–“ç·Šè¿«ï¼Œæˆ‘ä¹Ÿæœƒå’¬ç‰™æ’ä½ï¼ŒæŠŠä»½å…§çš„å·¥ä½œåšå®Œã€‚", role: "sailor", reverse: false },
Â  Â  { id: "q19", text: "éœ€è¦äººè™•ç†ç´°ç¯€ï¼ˆå¦‚æ’ç‰ˆã€æ•´ç†è³‡æ–™ã€æª¢æŸ¥éŒ¯å­—ï¼‰æ™‚ï¼Œæˆ‘é¡˜æ„è² è²¬åˆ°åº•ã€‚", role: "sailor", reverse: false },
Â  Â  { id: "q20r",text: "å¦‚æœæ²’æœ‰ç‰¹åˆ¥é»åæˆ‘ï¼Œæˆ‘é€šå¸¸ä¸æœƒä¸»å‹•æ‰¿æ“”æˆ–æ¥ä¸‹å°çµ„ä»»å‹™ã€‚", role: "sailor", reverse: true }
Â  ];

Â  function shuffle(array) {
Â  Â  const arr = array.slice();
Â  Â  for (let i = arr.length - 1; i > 0; i--) {
Â  Â  Â  const j = Math.floor(Math.random() * (i + 1));
Â  Â  Â  [arr[i], arr[j]] = [arr[j], arr[i]];
Â  Â  }
Â  Â  return arr;
Â  }

Â  function renderQuestions() {
Â  Â  const container = document.getElementById("questionsContainer");
Â  Â  container.innerHTML = "";
Â  Â  const shuffled = shuffle(QUESTIONS);

Â  Â  shuffled.forEach((q, index) => {
Â  Â  Â  const block = document.createElement("div");
Â  Â  Â  block.className = "question-block";

Â  Â  Â  const num = index + 1;
Â  Â  Â  const qText = document.createElement("div");
Â  Â  Â  qText.className = "question-text";
Â  Â  Â  qText.textContent = `${num}. ${q.text}`;
Â  Â  Â  block.appendChild(qText);

Â  Â  Â  const scale = document.createElement("div");
Â  Â  Â  scale.className = "scale";
Â  Â  Â  scale.setAttribute("data-qid", q.id);

Â  Â  Â  for (let v = 1; v <= 5; v++) {
Â  Â  Â  Â  const label = document.createElement("label");
Â  Â  Â  Â  const input = document.createElement("input");
Â  Â  Â  Â  input.type = "radio";
Â  Â  Â  Â  input.name = q.id;
Â  Â  Â  Â  input.value = v;
Â  Â  Â  Â  const span = document.createElement("span");
Â  Â  Â  Â  span.textContent = v;
Â  Â  Â  Â  label.appendChild(input);
Â  Â  Â  Â  label.appendChild(span);
Â  Â  Â  Â  scale.appendChild(label);
Â  Â  Â  }

Â  Â  Â  block.appendChild(scale);
Â  Â  Â  container.appendChild(block);
Â  Â  });
Â  }

Â  
Â  function calculateScores() {
Â  Â  const roleScores = {
Â  Â  Â  captain: [],
Â  Â  Â  navigator: [],
Â  Â  Â  medic: [],
Â  Â  Â  missionary: [],
Â  Â  Â  sailor: []
Â  Â  };

Â  Â  for (const q of QUESTIONS) {
Â  Â  Â  const selected = document.querySelector(`input[name="${q.id}"]:checked`);
Â  Â  Â  if (!selected) {
Â  Â  Â  Â  alert("é‚„æœ‰é¡Œç›®æœªä½œç­”ï¼Œè«‹ç¢ºèªæ¯é¡Œéƒ½å·²é¸æ“‡ 1ï½5 åˆ†ã€‚");
Â  Â  Â  Â  return null;
Â  Â  Â  }
Â  Â  Â  const raw = Number(selected.value);
Â  Â  Â  const score = q.reverse ? (6 - raw) : raw;
Â  Â  Â  roleScores[q.role].push(score);
Â  Â  }

Â  Â  const avg = {};
Â  Â  for (const role in roleScores) {
Â  Â  Â  const arr = roleScores[role];
Â  Â  Â  const total = arr.reduce((a, b) => a + b, 0);
Â  Â  Â  avg[role] = total / arr.length;
Â  Â  }
Â  Â  return avg;
Â  }

Â  function showResultPage(avg) {
Â  Â  const rolesMap = {
Â  Â  Â  captain: "èˆ¹é•·",
Â  Â  Â  navigator: "èˆªæµ·å£«",
Â  Â  Â  medic: "èˆ¹é†«",
Â  Â  Â  missionary: "å‚³æ•™å£«",
Â  Â  Â  sailor: "æ°´æ‰‹"
Â  Â  };

Â  Â  const emoText = {
Â  Â  Â  captain:Â  Â "ä½ æ“…é•·çœ‹åˆ°å…¨å±€ä¸¦å¸¶å‹•å¤§å®¶ï¼Œæ˜¯åœ˜éšŠåœ¨è¿·èˆªæ™‚çš„èˆµæ‰‹èˆ‡ç©©å®šæ ¸å¿ƒã€‚",
Â  Â  Â  navigator: "ä½ ç”¨æ€è€ƒå’Œè§€å¯Ÿå¹«å¤§å®¶æ‰¾åˆ°è·¯ï¼Œæ˜¯åœ˜éšŠå®‰ç©©å‰é€²çš„åœ°åœ–èˆ‡æ˜Ÿå…‰ã€‚",
Â  Â  Â  medic:Â  Â  Â "ä½ æœƒæ³¨æ„åˆ°èª°éœ€è¦å¹«åŠ©ï¼ŒåŠæ™‚è£œä½ï¼Œæ˜¯è®“ä»»å‹™ä¸æ–·ç·šçš„é—œéµå¾Œç›¾ã€‚",
Â  Â  Â  missionary:"ä½ åœ¨ä¹æ„ç¾©èˆ‡åƒ¹å€¼ï¼Œèƒ½æé†’å¤§å®¶ã€Œç‚ºä»€éº¼å‡ºç™¼ã€ï¼Œæ›¿åœ˜éšŠé»äº®æ–¹å‘ã€‚",
Â  Â  Â  sailor:Â  Â  "ä½ è‚¯åšã€åšå¾—ç©©ï¼Œå¾ˆå¤šæˆæœå…¶å¯¦é ä½ æ’èµ·ï¼Œæ˜¯æœ€è®“äººæ”¾å¿ƒçš„è¡Œå‹•æ´¾ã€‚"
Â  Â  };

Â  Â  const entries = Object.entries(avg).sort((a, b) => b[1] - a[1]);

Â  Â  let scoresHtml = "<div><strong>å„è§’è‰²å¹³å‡åˆ†æ•¸ï¼š</strong></div>";
Â  Â  for (const [role, value] of entries) {
Â  Â  Â  scoresHtml += `<div><span class="role-label">${rolesMap[role]}</span>ï¼š${value.toFixed(2)} åˆ†</div>`;
Â  Â  }

Â  Â  const top3 = entries.slice(0, 3).map(([role]) => role);

Â  Â  scoresHtml += `<div style="margin-top:10px;"><strong>ä½ çš„å‰ä¸‰åè§’è‰²åŠ›é‡æ˜¯ï¼š</strong></div>`;
Â  Â  top3.forEach((role, idx) => {
Â  Â  Â  const rank = idx + 1;
Â  Â  Â  scoresHtml += `<div>ç¬¬${rank}åï¼š<span class="role-label">${rolesMap[role]}</span>ï¼${emoText[role]}</div>`;
Â  Â  });

Â  Â  scoresHtml += `
Â  Â  Â  <div style="margin-top:12px;"><strong>è§’è‰²ç‰¹è³ªèªªæ˜ï¼š</strong></div>
Â  Â  Â  <div><span class="role-label">èˆ¹é•·</span>ï¼ˆé ˜å°ã€åˆ†å·¥ã€æ±ºç­–ã€å‡èšï¼‰</div>
Â  Â  Â  <div><span class="role-label">èˆªæµ·å£«</span>ï¼ˆåˆ†æã€æ–¹æ³•ã€å…§æ–‚ã€å»ºè­°ï¼‰</div>
Â  Â  Â  <div><span class="role-label">èˆ¹é†«</span>ï¼ˆé—œæ‡·ã€å”åŠ©ã€æ‡‰è®Šã€æ•‘æ´ï¼‰</div>
Â  Â  Â  <div><span class="role-label">å‚³æ•™å£«</span>ï¼ˆä¿¡å¿ƒã€å …å®šã€åŒ…å®¹ã€åŒç†ã€èªªæœï¼‰</div>
Â  Â  Â  <div><span class="role-label">æ°´æ‰‹</span>ï¼ˆå …å®šã€æ¯…åŠ›ã€ç†Ÿç·´ã€åŸ·è¡Œï¼‰</div>
Â  Â  Â  <div class="result-hint">
Â  Â  Â  Â  âœ¦ è¨˜ä½ï¼šåœ˜éšŠéœ€è¦çš„æ˜¯ä¸åŒç‰¹è³ªçš„å¤¥ä¼´ä¸€èµ·å®Œæˆèˆªç¨‹ï¼Œè€Œä¸æ˜¯æ¯å€‹äººéƒ½æˆç‚ºåŒä¸€ç¨®è§’è‰²ã€‚<br>
Â  Â  Â  Â  âœ¦ ä½ ç¾åœ¨çœ‹åˆ°çš„æ›²ç·šï¼Œå°±æ˜¯ä½ åœ¨é€™æ¬¡å¤§èˆªæµ·ä»»å‹™ä¸­ï¼Œæœ€ç¨ç‰¹ã€æœ€é‡è¦çš„è²¢ç»ã€‚
Â  Â  Â  </div>
Â  Â  `;

Â  Â  const data = [
Â  Â  Â  Number(avg.captain.toFixed(2)),
Â  Â  Â  Number(avg.navigator.toFixed(2)),
Â  Â  Â  Number(avg.medic.toFixed(2)),
Â  Â  Â  Number(avg.missionary.toFixed(2)),
Â  Â  Â  Number(avg.sailor.toFixed(2))
Â  Â  ];
Â  Â  
Â  Â  // Chart.js åˆå§‹åŒ–çš„è…³æœ¬
Â  Â  const chartScript = `
Â  Â  Â  const labels = ${JSON.stringify(["èˆ¹é•·","èˆªæµ·å£«","èˆ¹é†«","å‚³æ•™å£«","æ°´æ‰‹"])};
Â  Â  Â  const data = ${JSON.stringify(data)};
Â  Â  Â  const ctx = document.getElementById("radarChart").getContext("2d");
Â  Â  Â  new Chart(ctx, {
Â  Â  Â  Â  type: "radar",
Â  Â  Â  Â  data: {
Â  Â  Â  Â  Â  labels: labels,
Â  Â  Â  Â  Â  datasets: [{
Â  Â  Â  Â  Â  Â  label: "æˆ‘çš„èˆªæµ·ç‰¹è³ªå¼·åº¦ï¼ˆ1ï½5åˆ†ï¼‰",
Â  Â  Â  Â  Â  Â  data: data,
Â  Â  Â  Â  Â  Â  fill: true,
Â  Â  Â  Â  Â  Â  backgroundColor: "rgba(255, 204, 102, 0.20)",
Â  Â  Â  Â  Â  Â  borderColor: "rgba(255, 204, 102, 1)",
Â  Â  Â  Â  Â  Â  pointBackgroundColor: "#ffcc66",
Â  Â  Â  Â  Â  Â  pointRadius: 3,
Â  Â  Â  Â  Â  Â  pointHoverRadius: 4,
Â  Â  Â  Â  Â  Â  borderWidth: 2
Â  Â  Â  Â  Â  }]
Â  Â  Â  Â  },
Â  Â  Â  Â  options: {
Â  Â  Â  Â  Â  responsive: true,
Â  Â  Â  Â  Â  maintainAspectRatio: false,
Â  Â  Â  Â  Â  scales: {
Â  Â  Â  Â  Â  Â  r: {
Â  Â  Â  Â  Â  Â  Â  suggestedMin: 1,
Â  Â  Â  Â  Â  Â  Â  suggestedMax: 5,
Â  Â  Â  Â  Â  Â  Â  ticks: {
Â  Â  Â  Â  Â  Â  Â  Â  stepSize: 1,
Â  Â  Â  Â  Â  Â  Â  Â  backdropColor: "transparent",
Â  Â  Â  Â  Â  Â  Â  Â  color: "rgba(245,245,245,0.9)",
Â  Â  Â  Â  Â  Â  Â  Â  font: { size: 10 }
Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  grid: { color: "rgba(255,255,255,0.14)" },
Â  Â  Â  Â  Â  Â  Â  angleLines: { color: "rgba(255,255,255,0.18)" },
Â  Â  Â  Â  Â  Â  Â  pointLabels: {
Â  Â  Â  Â  Â  Â  Â  Â  color: "#ffdd99",
Â  Â  Â  Â  Â  Â  Â  Â  font: { size: 12 }
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  plugins: {
Â  Â  Â  Â  Â  Â  legend: { display: false }
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  });
Â  Â  `;


Â  Â  const win = window.open("", "_blank");
Â  Â  if (!win) {
Â  Â  Â  alert("å¦‚æœæ²’æœ‰çœ‹åˆ°çµæœé ï¼Œè«‹å…è¨±ç€è¦½å™¨çš„å½ˆå‡ºå¼è¦–çª—ï¼Œå†é‡æ–°ç”¢ç”Ÿä¸€æ¬¡é›·é”åœ–ã€‚");
Â  Â  Â  return;
Â  Â  }

Â  Â  // ä¿®æ­£ï¼šç§»é™¤è¤‡é›œçš„ replaceï¼Œä¸¦ç›´æ¥å°‡ chartScript åµŒå…¥ã€‚
Â  Â  const resultHtml = `<!DOCTYPE html>
<html lang="zh-Hant">
<head>
Â  <meta charset="UTF-8" />
Â  <title>å¤§èˆªæµ·äº”è§’è‰²ï½œé›·é”åœ–çµæœ</title>
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
Â  <style>
Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 0;
Â  Â  Â  font-family: "Noto Sans TC", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
Â  Â  Â  background:
Â  Â  Â  Â  linear-gradient(rgba(5, 10, 25, 0.9), rgba(0, 0, 0, 1)),
Â  Â  Â  Â  url("https://upload.wikimedia.org/wikipedia/commons/5/5c/John_C._Munro_off_Hong_Kong.jpg")
Â  Â  Â  Â  no-repeat center center fixed;
Â  Â  Â  background-size: cover;
Â  Â  Â  color: #f5f5f5;
Â  Â  }
Â  Â  .wrap {
Â  Â  Â  max-width: 900px;
Â  Â  Â  margin: 24px auto 32px;
Â  Â  Â  padding: 18px 16px 22px;
Â  Â  Â  border-radius: 20px;
Â  Â  Â  border: 1px solid rgba(255,255,255,0.16);
Â  Â  Â  background: radial-gradient(circle at top left, rgba(255,255,255,0.06), rgba(3,9,20,0.98));
Â  Â  Â  box-shadow: 0 18px 40px rgba(0,0,0,0.9);
Â  Â  }
Â  Â  h1 {
Â  Â  Â  margin: 0 0 6px;
Â  Â  Â  font-size: 22px;
Â  Â  Â  color: #ffdd66;
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  gap: 6px;
Â  Â  }
Â  Â  p.subtitle {
Â  Â  Â  margin: 0 0 14px;
Â  Â  Â  font-size: 13px;
Â  Â  Â  color: #ffddaa;
Â  Â  }
Â  Â  #radarBox {
Â  Â  Â  position: relative;
Â  Â  Â  height: 360px;
Â  Â  Â  margin-bottom: 10px;
Â  Â  }
Â  Â  .scores {
Â  Â  Â  font-size: 14px;
Â  Â  Â  line-height: 1.8;
Â  Â  Â  margin-top: 6px;
Â  Â  }
Â  Â  .btn-back {
Â  Â  Â  margin-top: 14px;
Â  Â  Â  display: inline-block;
Â  Â  Â  padding: 6px 12px;
Â  Â  Â  border-radius: 999px;
Â  Â  Â  border: 1px solid rgba(255,221,170,0.6);
Â  Â  Â  color: #ffddaa;
Â  Â  Â  font-size: 11px;
Â  Â  Â  text-decoration: none;
Â  Â  Â  cursor: pointer;
Â  Â  Â  background: transparent;
Â  Â  }
Â  Â  .btn-back:hover {
Â  Â  Â  background: rgba(255,221,170,0.14);
Â  Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.7);
Â  Â  }
Â  </style>
</head>
<body>
Â  <div class="wrap">
Â  Â  <h1>ğŸ§­ å¤§èˆªæµ·äº”è§’è‰²é›·é”åœ–çµæœ</h1>
Â  Â  <p class="subtitle">ä»¥ä¸‹æ˜¯ä½ åœ¨æœ¬æ¬¡æ¸¬é©—ä¸­å±•ç¾çš„äº”ç¨®è§’è‰²ç‰¹è³ªåˆ†å¸ƒï¼Œå¯ä½œç‚ºä»»å‹™åˆ†å·¥èˆ‡è‡ªæˆ‘èªè­˜çš„åƒè€ƒã€‚</p>
Â  Â  <div id="radarBox">
Â  Â  Â  <canvas id="radarChart"></canvas>
Â  Â  </div>
Â  Â  <div class="scores">
Â  Â  Â  ${scoresHtml}
Â  Â  </div>
Â  Â  <button class="btn-back" onclick="window.close()">é—œé–‰æ­¤çµæœé </button>
Â  </div>
Â  <script>
Â  Â  ${chartScript}
Â  </script>
</body>
</html>`;

Â  Â  win.document.write(resultHtml);
Â  Â  win.document.close();
Â  }
Â  
Â  // DOMContentLoaded ç”¨æ–¼ç¢ºä¿ HTML å…ƒç´ è¼‰å…¥å¾Œå†åŸ·è¡Œè…³æœ¬
Â  document.addEventListener("DOMContentLoaded", function() {
Â  Â  // 1. æ¸²æŸ“é¡Œç›®
Â  Â  renderQuestions();

Â  Â  // 2. ç¶å®šæŒ‰éˆ•äº‹ä»¶
Â  Â  document.getElementById("generateBtn").addEventListener("click", () => {
Â  Â  Â  const avg = calculateScores();
Â  Â  Â  if (!avg) return;
Â  Â  Â  showResultPage(avg);
Â  Â  });

Â  Â  document.getElementById("resetBtn").addEventListener("click", () => {
Â  Â  Â  renderQuestions();
Â  Â  Â  window.scrollTo({ top: 0, behavior: "smooth" });
Â  Â  });
Â  });
</script>
</body>
</html>
